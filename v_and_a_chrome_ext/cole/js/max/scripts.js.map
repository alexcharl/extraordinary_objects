{"version":3,"file":"scripts.js","mappings":"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","sources":["webpack://v-and-a-chrome-extension/./assets/scripts/0_helpers.js","webpack://v-and-a-chrome-extension/./assets/scripts/1_global.js","webpack://v-and-a-chrome-extension/./assets/scripts/2_main.js","webpack://v-and-a-chrome-extension/./assets/scripts/3_va_api.js","webpack://v-and-a-chrome-extension/./assets/scripts/x_docReady.js","webpack://v-and-a-chrome-extension/webpack/before-startup","webpack://v-and-a-chrome-extension/webpack/startup","webpack://v-and-a-chrome-extension/webpack/after-startup"],"sourcesContent":["var pumkin = window.pumkin = {};\n// GLOBAL VARIABLES\n\n// change this depending on the site\n\n(function ( window, $, Modernizr ) {\n\n  function getTransformValues ($element , type) {\n    var transformMatrix = $element.css('transform');\n    var transformValues = transformMatrix.match(/-?[0-9\\.]+/g);\n    var scale = transformValues[0];\n\n    var translate = {\n      x: transformValues[4] / scale,\n      y: transformValues[5] / scale\n    };\n\n    if (type === 'scale') {\n      return scale;\n    }\n\n    else if (type === 'translate') {\n      return translate;\n    }\n\n    else if (type === 'raw') {\n      return transformValues;\n    }\n  }\n\n  function checkKey(e) {\n\n      e = e || window.event;\n\n      return e.keyCode;\n  }\n\n  function makePlaceholders (els, activeClass) {\n    \n    activeClass = activeClass || 'active';\n\n    $(els).each(function() {\n      \n      var $el = $(this);\n      var placeholder = $el.data().placeholder;\n\n      $el.val(placeholder);\n      \n      if ($.trim($el.val()) === '') {\n        $el.val(placeholder).removeClass(activeClass);\n      }\n      \n      $el.focus(function() {\n        if ($el.val() === placeholder) {\n          $el.val('').addClass(activeClass);\n        }\n      }).blur(function() {\n        if ($.trim($el.val()) === '') {\n          $el.val(placeholder).removeClass(activeClass);\n        }\n      });\n    });\n  }\n\n\n\n  function svgFallback () {\n    $(\"img[src$='.svg']\").each(function () {\n      var $el = $(this);\n      var origSrc = $el.attr('src');\n      var pngSrc = origSrc.replace('.svg','.png');\n      $el.attr('src',pngSrc);\n    });\n  }\n\n  function normalizeBoxHeights($els) {\n\n    var max = 0;\n\n    // get all the element heights and find the tallest\n    $els.each(function() {\n      max = Math.max($(this).height(), max);\n    });\n\n    // set them all to the height of the tallest\n    $els.each(function() {\n      $(this).height(max);\n    });\n  }\n\n  function randomNum(min, max) {\n    return Math.floor(Math.random() * (max - min) + min);\n  }\n\n\n  function autoFit($container, $items, margin, doHeightToo, includeLastRow, varyHeight, allSameWidth) {\n\n      console.log('autoFit: '+$items.length);\n\n      margin = margin || 0;\n\n      // check if we've covered the whole area with tiles\n      // if we fall short, expand the tiles to meet the edge of the container\n      // currently only works width-ways\n\n      var containerWidth = $container.width()-margin;\n\n      // reset the items to their regular (css-defined) width by removing style attributs\n      $items.removeAttr('style');\n\n      // create a master array which will hold the rows\n      var allTheRows = [];\n\n      // start a rowWidth variable to measure the combined width of items in each row\n      var rowWidth = 0;\n\n      // start an array for items in the current row\n      var thisRow = [];\n\n      // now loop through, we create a new array for each row then add it to the master\n      $items.each(function() {\n\n        // start adding up the widths until we can't fit another one in\n        var $this = $(this);\n        rowWidth+=parseInt($this.css('width'))+margin;\n\n        if (rowWidth<=containerWidth) {\n\n            // add this item to the row array\n            thisRow.push($this);\n        \n        } else {\n\n            // add the row to the master array ...\n            allTheRows.push(thisRow);\n\n            // ... then start a new row array with this item in it\n            thisRow = new Array($this);\n\n            // and reset the rowWidth\n            rowWidth = parseInt($this.css('width'))+margin;\n        }\n\n        if ($this.is(':last-child') && includeLastRow) {\n\n          // add the final row to the master array ...\n          allTheRows.push(thisRow);\n        }\n      });\n\n      // now loop through the whole array and fit each one\n      var numRows = allTheRows.length;\n\n      for (var r=0; r<numRows; r++) {\n\n        var itemsInRow = allTheRows[r].length;\n\n        // track the row width\n        var rowTotalWidth = 0;\n\n        for (var i=0; i<itemsInRow; i++) {\n\n          rowTotalWidth+=parseInt(allTheRows[r][i].css('width'))+margin;\n        }\n\n        // what's the amount of remaining width for this row?\n        var remainderWidth = (containerWidth-rowTotalWidth);\n\n        // width available to add to each item\n        var spaceToAdd = (remainderWidth / itemsInRow);\n\n        // get the average item width\n        var avgItemWidth = (rowTotalWidth / itemsInRow);\n\n        // track the new row width, we use to adjust if rounding errors prevent perfect alignment\n        var newRowTotalWidth = 0;\n\n        // in progress...\n        if (allSameWidth) {\n\n          var theWidth = parseInt(allTheRows[0][0].css('width'));\n        }\n\n        // now loop again and add add space according to \n        // the proportion of each item vs. the average item width\n        for ( i=0; i<itemsInRow; i++) {\n\n          var itemWidth = parseInt(allTheRows[r][i].css('width'));\n          var itemRatio = itemWidth / avgItemWidth;\n          var newWidth = allSameWidth ? itemWidth + spaceToAdd : itemWidth+Math.floor(spaceToAdd*itemRatio);\n          var newHeight;\n\n          // get the new height from the first element then apply to all the others\n          if ( r === 0 && i === 0) {\n            \n            var itemHeight = parseInt(allTheRows[r][i].css('height'));\n\n            // set the new height to keep proportions (if option is true)\n            newHeight = doHeightToo ? Math.floor(newWidth*(itemHeight/itemWidth)) : itemHeight;\n          }\n          \n          if (varyHeight) {\n            allTheRows[r][i].css({\n              'width' : newWidth\n            });\n          } \n          else {\n            allTheRows[r][i].css({\n              'width' : newWidth,\n              'height' : newHeight\n            });\n          }\n\n          newRowTotalWidth += newWidth+margin;\n        }\n\n        // add or subtract any rounding error difference\n        var difference = containerWidth-newRowTotalWidth;\n        allTheRows[r][itemsInRow-1].css('width', parseInt(allTheRows[r][itemsInRow-1].css('width'))+difference);\n      }\n    }\n\n\n  function intelliLoad( $imgs, src, revealOnLoad ) {\n\n    // check if we have a library available (desandro's imagesLoaded) to listen for image load\n    // if not, don't do revealOnLoad\n    revealOnLoad = typeof imagesLoaded === \"function\" ? revealOnLoad : false;\n\n    $imgs.each(function() {\n\n      var $img = $(this);\n      // under normal usage there'd be an image tag but no src attr\n      // image source is held in data-src\n      // can be overridden by passing src param if required\n      var src = src || $img.data( 'src' );\n\n      if (revealOnLoad) { $img.css({ 'opacity': 0 }); }\n\n      if (!$img.attr('src')) {\n\n        $img.attr('src', src);\n\n        console.log('INTELLILOAD: is image?'+$img.is('img'));\n\n        if ( revealOnLoad && $img.is('img') ) {\n          console.log('INTELLILOAD: revlealOnLoad: '+src);\n          $img.imagesLoaded()\n            .done( function( instance, image ) {\n              console.log('INTELLILOAD: imagesLoaded: '+image.attr('src'));\n              image.css({ 'opacity': 1 }); // no animation via js - add a transition in css if you want\n            });\n        }\n      }\n\n    });\n  }\n\n\n  function defineDeviceVariables () {\n      var deviceVariables;\n      deviceVariables = {\n        isMobile: $('#mobileTester').css('visibility') === 'visible' ? true : false,\n        isTablet: $('#tabletTester').css('visibility') === 'visible' ? true : false,\n        isTouch: Modernizr.touch ? true : false\n      };\n      deviceVariables.isDevice = deviceVariables.isMobile || deviceVariables.isTablet ? true : false;\n      return deviceVariables;\n    }\n\n  function browserDetection () {\n\n    var browser = {};\n\n    browser.isChrome = navigator.userAgent.indexOf('Chrome') > -1;\n    browser.isExplorer = navigator.userAgent.indexOf('MSIE') > -1;\n    browser.isFirefox = navigator.userAgent.indexOf('Firefox') > -1;\n    browser.isSafari = navigator.userAgent.indexOf('Safari') > -1;\n    browser.isOpera = navigator.userAgent.indexOf('Presto') > -1;\n\n    if ( (browser.isChrome) && (browser.isSafari) ) {\n      browser.isSafari = false;\n    }\n\n    return browser;\n\n  }\n\n  pumkin = {\n    getTransformValues: getTransformValues,\n    checkKey: checkKey,\n    svgFallback: svgFallback,\n    normalizeBoxHeights: normalizeBoxHeights,\n    randomNum: randomNum,\n    autoFit: autoFit,\n    defineDeviceVariables: defineDeviceVariables,\n    browserDetection: browserDetection,\n    makePlaceholders: makePlaceholders,\n    intelliLoad: intelliLoad\n  };\n\n})( this, this.jQuery, this.Modernizr );",";(function ( window, $, Modernizr ) {\n\t\n\tvar pumkin = window.pumkin;\n\tvar SITE = window.SITE = window.SITE || {};\n\n\tfunction initGlobal () {\n\t\tvar gv;\n\t\tgv = window.gv = {\n\t\t\t$window: $(window),\n\t\t\t$document: $(document),\n\t\t\t$html: $('html'),\n\t\t\t$body: $('body'),\n\t\t\tWIDTH: $(window).width(),\n\t\t\tHEIGHT: $(window).height(),\n\t\t\tdeviceVariables: pumkin.defineDeviceVariables(),\n\t\t\tbrowser: pumkin.browserDetection(),\n\t\t\t\n\t\t\t// site specific\n\t\t\t$wrapper: $('#wrapper')\n\t\t};\n\n\t\tconsole.log('initGlobal');\n\t\t\n\t}\n\n\t// EXPORT\n\tSITE.initGlobal = initGlobal;\n\n\n})( this, this.jQuery, this.Modernizr );",";(function ( window, $, Modernizr, screenfull, FastClick ) {\n\tvar pumkin = window.pumkin;\n\tvar SITE = window.SITE = window.SITE || {};\n\n\t//define empty page vars\n\t\n\t//GLOBAL\n\tvar $window = null;\n\tvar $body = null;\n\tvar WIDTH = null;\n\tvar HEIGHT = null;\n\tvar isMobile = null;\n\tvar isTablet = null;\n\tvar isDevice = null;\n\tvar isTouch = null;\n\tvar browser;\n\tvar $wrapper;\n\n\t// HISTORY\n\tvar theHistory = [];\n\tvar maxHistoryItems = 10;\n\t\n\t// Make theHistory globally accessible\n\twindow.theHistory = theHistory;\n\twindow.maxHistoryItems = maxHistoryItems;\n\n\t// SPECIFIC TO HERE\n\t\n\t// FUNCTIONS FROM ELSEWHERE\n\n\tfunction defineVars () {\n\t\tvar gv = window.gv;\n\t\t$window = gv.$window;\n\t\t$body = gv.$body;\n\t\tWIDTH = gv.WIDTH;\n\t\tHEIGHT = gv.HEIGHT;\n\t\t$wrapper = gv.$wrapper;\n\n\t\tisMobile = gv.deviceVariables.isMobile;\n\t\tisTablet = gv.deviceVariables.isTablet;\n\t\tisDevice = gv.deviceVariables.isDevice;\n\t\tisTouch = gv.deviceVariables.isTouch;\n\n\t\tbrowser = gv.browser;\n\n\t\t// SPECIFIC TO HERE\n\t\t$textContent = $('.text-content-column');\n\t\t$objectCaption = $('.object-caption');\n\t\t$downArrow = $('.down-arrow');\n\t\t$objectHeader = $('.object-header');\n\t\t$sidePanel = $('.side-panel');\n\t\t$sidePanelOpenBtn = $('.more');\n\t\t$sidePanelCloseBtn = $('.close-side-panel');\n\t\t$historyOpenBtn = $('.history');\n\t\t$overlayCloseBtn = $('.close-overlay');\n\t\t$overlay = $('.overlay');\n\t\t$techInfo = $('.technical-info .text-content');\n\t\t\n\t\t// FUNCTIONS FROM ELSEWHERE\n\t}\n\n\n\tfunction initMain () {\n\n\t\tdefineVars();\n\n\t\t// Load history from Chrome storage\n\t\tif (typeof chrome !== 'undefined' && typeof chrome.storage !== 'undefined') {\n\t\t\tchrome.storage.local.get(['objectHistory'], function(result) {\n\t\t\t\tif (result.objectHistory) {\n\t\t\t\t\ttheHistory = result.objectHistory;\n\t\t\t\t\twindow.theHistory = theHistory; // Update global reference\n\t\t\t\t\tconsole.log('Loaded history from storage:', theHistory.length, 'items');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tinitFastclick();\n\n\t\thandleClicks();\n\n\t\t// window resize things\n\t\tonResize();\n\t\tonThrottledResize();\n\t\tonDebouncedResize();\n\t\t$window.on('resize', onResize);\n\t\t$window.on('resize', throttledResize);\n\t\t$window.on('resize', debouncedResize);\n\n\t\tonThrottledScroll();\n\t\t$textContent.on('scroll', throttledScroll);\n\n\t\tconsole.log('initMain');\n\t\t\n\t}\n\n\tfunction handleClicks () {\n\n\t\t$sidePanelOpenBtn.click(function(){\n\t\t\tif ($sidePanel.hasClass('open')) {\n\t\t\t\t$sidePanel.removeClass('open');\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$sidePanel.addClass('open');\n\t\t\t}\n\t\t});\n\n\t\t$sidePanelCloseBtn.click(function(){\n\t\t\t$sidePanel.removeClass('open');\n\t\t});\n\n\t\t$downArrow.click(function() {\n\t\t\t$('#object-description').velocity('scroll', {\n\t            duration: 700,\n\t            offset: -100,\n\t            easing: 'ease-in-out',\n\t            container: $textContent\n\t        });\n\t\t});\n\n\t\t$historyOpenBtn.click(function() {\n\t\t\tif ($overlay.hasClass('closed')) {\n\t\t\t\t$overlay.removeClass('closed').addClass('open for-history');\n\t\t\t\tshowHistory();\n\t\t\t\t$overlay.fadeIn(500);\n\t\t\t}\n\t\t});\n\n\t\t$overlayCloseBtn.click(function() {\n\t\t\t$overlay.fadeOut(500, function() {\n\t\t\t\t$overlay.removeClass('open for-history for-warning').addClass('closed');\n\t\t\t});\t\n\t\t});\n\n\t\t$('.go-to-options').click(function() {\n\t\t  if (chrome.runtime.openOptionsPage) {\n\t\t    // New way to open options pages, if supported (Chrome 42+).\n\t\t    chrome.runtime.openOptionsPage();\n\t\t  } else {\n\t\t    // Reasonable fallback.\n\t\t    window.open(chrome.runtime.getURL('/src/options/index.html'));\n\t\t  }\n\t\t});\n\t}\n\n\tfunction throwError() {\n\n\t\t$overlay.removeClass('closed').addClass('open for-warning');\n\t\t$overlay.fadeIn(500);\n\t}\n\n\n\t// Object History\n\t// ----------------------------------------------------\n\n\tfunction showHistory() {\n\n\t\t$('.history-wrapper .loading').addClass('loaded');\n\t\tgetHistory();\n\t}\n\n\tfunction hideHistory() {\n\n\t\t$('#history-objects').text('');\n\n\n\t}\n\n\tfunction getHistory() {\n\t\t// *** Populate the History page *** //\n\t\tvar count = 0;\n\t\tvar history = window.theHistory || theHistory || [];\n\t\tif (!history || history.length === 0) {\n\t\t\t$('#history-objects').html('<p class=\"no-history\">No objects viewed yet. Start exploring the V&A collection!</p>');\n\t\t\treturn;\n\t\t}\n\t\thistory.forEach(function (i) {\n\t\t\tvar historyObjectHTML = '';\n\t\t\thistoryObjectHTML += '<a class=\"history-object hide-until-loaded\" data-object-number=\"'+i.objectNumber+'\" href=\"'+i.vaCollectionsUrl+'\"';\n\t\t\thistoryObjectHTML += 'title=\"View this item in the V&amp;A archive\">';\n\t\t\thistoryObjectHTML += '<div class=\"history-object-image-holder\" '\n\t\t\thistoryObjectHTML += 'style=\"background-image: url(\\''+i.imageUrl+'\\');\">';\n\t\t\thistoryObjectHTML += '</div>';\n\t\t\thistoryObjectHTML += '<img src=\"'+i.imageUrl+'\" class=\"image-holder-for-loading\" id=\"image-holder-'+count+'\" >';\n\t\t\thistoryObjectHTML += '<div class=\"history-object-info\">';\n\t\t\thistoryObjectHTML += '<p><strong>'+i.title+'</strong>, '+i.date+'</p>';\n\t\t\thistoryObjectHTML += '<p>'+i.artist+'</p>';\n\t\t\thistoryObjectHTML += '</div>';\n\t\t\thistoryObjectHTML += '</a>';\n\t\t\t$('#history-objects').append(historyObjectHTML);\n\t\t\t$('#image-holder-'+count).on('load', function() {\n\t\t\t   $(this).parent().addClass('loaded');\n\t\t\t   $(this).remove(); // prevent memory leaks\n\t\t\t});\n\t\t\tcount++;\n\t\t});\n\t}\n\t\n\t// Scroll events\n\t// ----------------------------------------------------\n\n\tfunction onThrottledScroll () {\n\n\t\tvar scrollAmt = $textContent.scrollTop();\n\n\t\tif ( scrollAmt > HEIGHT*0.5) {\n\t\t\t// show the caption\n\t\t\t$objectCaption.addClass('reveal');\n\t\t}\n\t\telse {\n\t\t\t// hide the caption\n\t\t\t$objectCaption.removeClass('reveal');\n\t\t}\n\n\t\tif ( scrollAmt > HEIGHT*0.5) {\n\t\t\t// hide the header\n\t\t\t$objectHeader.addClass('hide');\n\t\t}\n\t\telse {\n\t\t\t// show the header\n\t\t\t$objectHeader.removeClass('hide');\n\t\t}\n\t}\n\n\tvar throttledScroll = function() {\n\t\t// DO SOMETHING EVERY 250ms\n\t\tonThrottledScroll();\n\t\t\n\t};\n\n\n\t// RESIZE SCRIPTS\n\t// ----------------------------------------------------\n\tfunction onResize () { \n\t  WIDTH = $window.width();\n\t  HEIGHT = $window.height();\n\t}\n\n\tfunction onThrottledResize () {\n\t}\n\n\tfunction onDebouncedResize () {\n\t\t// console.log('debounce');\n\t}\n\t  \n\tvar throttledResize = $.throttle(250, function() {\n\t\t// DO SOMETHING EVERY 250ms\n\t\tonThrottledResize();\n\t\t\n\t});\n\n\tvar debouncedResize = $.debounce(100, function() {\n\t\tonDebouncedResize();\t\n\t});\n\n\n\t// INITIALISE FASTCLICK\n\tfunction initFastclick () {\n\t\tif (typeof FastClick !== 'undefined' && FastClick) {\n\t\t\tFastClick.attach(document.body);\n\t\t}\n\t}\n\n\t\n\t// EXPORT\n\tSITE.initMain = initMain;\n\tSITE.throwError = throwError;\n\tSITE.onThrottledResize = onThrottledResize;\n\tSITE.showHistory = showHistory;\n\tSITE.hideHistory = hideHistory;\n\n})( this, this.jQuery, this.Modernizr, this.screenfull, this.FastClick );",";(function ( window, $, Modernizr ) {\n\t\n\tvar pumkin = window.pumkin;\n\tvar SITE = window.SITE = window.SITE || {};\n\n\t// V&A API v2 configuration\n\tvar vaUrl = \"https://api.vam.ac.uk/v2/objects/search\";\n\tvar vaMediaUrl = \"https://media.vam.ac.uk/media/thira/collection_images/\";\n\tvar vaCollectionsUrl = \"https://collections.vam.ac.uk/item/\";\n\tvar defaultSearchTerms = [\"Architecture\", \"Asia\", \"British Galleries\", \"Ceramics\", \"Childhood\", \"Contemporary\", \"Fashion\", \"Jewellery\", \"Furniture\", \"Glass\", \"Metalwork\", \"Paintings\", \"Drawings\", \"Photography\", \"Prints\", \"Books\", \"Sculpture\", \"Textiles\", \"Theatre\"];\n\tvar theSearchTerms;\n\tvar chosenSearchTerm;\n\tvar strictSearch = false;\n\tvar searchCount = 0;\n\tvar maxSearchCounts = 5;\n\n\tfunction chooseSearchTerm() {\n\t\tchosenSearchTerm = theSearchTerms[pumkin.randomNum(0, theSearchTerms.length)];\n\t\tconsole.log(\"Chosen search term: \" + chosenSearchTerm + \" from \" + theSearchTerms.length + \" available terms\");\n\t}\n\n\tfunction start() {\n\t\tconsole.log(\"=== V&A API START FUNCTION CALLED ===\");\n\t\tconsole.log(\"looking for  user settings\");\n\t\t\n\t\t// Test background script communication\n\t\tif (typeof chrome !== \"undefined\" && chrome.runtime && chrome.runtime.sendMessage) {\n\t\t\tconsole.log(\"Testing background script communication...\");\n\t\t\tchrome.runtime.sendMessage({action: 'test'}, function(response) {\n\t\t\t\tconsole.log(\"Background script test response:\", response);\n\t\t\t});\n\t\t}\n\t\t\n\t\tif (typeof chrome != \"undefined\" && typeof chrome.storage != \"undefined\") {\n\t\t\tchrome.storage.sync.get({\n\t\t\t\tuserSearchTerms: \"\",\n\t\t\t\tstrictSearch: \"fuzzy\"\n\t\t\t}, function(items) {\n\t\t\t\tif (items.userSearchTerms.length > 0) {\n\t\t\t\t\tconsole.log(\"using user search terms: \" + items.userSearchTerms);\n\t\t\t\t\ttheSearchTerms = items.userSearchTerms.replace(/ /g, \"+\").split(\",\");\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"using default search terms: \" + defaultSearchTerms);\n\t\t\t\t\ttheSearchTerms = defaultSearchTerms;\n\t\t\t\t}\n\t\t\t\tconsole.log(\"strictSearch setting = \" + items.strictSearch);\n\t\t\t\tif (items.strictSearch == \"strict\") {\n\t\t\t\t\tstrictSearch = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Display search terms in the side panel\n\t\t\t\tvar searchTermsDisplay = theSearchTerms.join(\", \");\n\t\t\t\t$(\"#search-terms\").text(searchTermsDisplay);\n\t\t\t\t\n\t\t\t\tchooseSearchTerm();\n\t\t\t\tmakeVaRequest(null, chosenSearchTerm);\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.log(\"Running as standalone page, using default search terms: \" + defaultSearchTerms);\n\t\t\ttheSearchTerms = defaultSearchTerms;\n\t\t\t\n\t\t\t// Display search terms in the side panel\n\t\t\tvar searchTermsDisplay = theSearchTerms.join(\", \");\n\t\t\t$(\"#search-terms\").text(searchTermsDisplay);\n\t\t\t\n\t\t\tchooseSearchTerm();\n\t\t\tmakeVaRequest(null, chosenSearchTerm);\n\t\t}\n\t}\n\n\tfunction makeVaRequest(systemNumber, searchTerm, offset, limit, withImages, withDescription, after, random) {\n\t\tif (searchCount < maxSearchCounts) {\n\t\t\tsearchCount++;\n\t\t\tsystemNumber = typeof systemNumber !== \"undefined\" ? systemNumber : null;\n\t\t\twithImages = typeof withImages !== \"undefined\" ? withImages : \"1\";\n\t\t\tlimit = typeof limit !== \"undefined\" ? limit : \"1\";\n\t\t\tsearchTerm = typeof searchTerm !== \"undefined\" ? searchTerm : null;\n\t\t\toffset = typeof offset !== \"undefined\" ? offset : null;\n\t\t\twithDescription = typeof withDescription !== \"undefined\" ? withDescription : \"1\";\n\t\t\tafter = typeof after !== \"undefined\" ? after : null;\n\t\t\trandom = typeof random !== \"undefined\" ? random : \"0\";\n\t\t\tquality = typeof quality !== \"undefined\" ? quality : null;\n\t\t\tvar expectResponse = 0;\n\t\t\tif (offset != null) {\n\t\t\t\texpectResponse = 1;\n\t\t\t} else if (systemNumber != null) {\n\t\t\t\texpectResponse = 2;\n\t\t\t}\n\t\t\tif (strictSearch == true) {\n\t\t\t\tvar searchItem = searchTerm;\n\t\t\t\tvar searchTerm = null;\n\t\t\t} else {\n\t\t\t\tvar searchItem = null;\n\t\t\t}\n\t\t\tconsole.log(\"strictSearch = \" + strictSearch);\n\t\t\tconsole.log(\"expectResponse = \" + expectResponse);\n\t\t\tconsole.log(\"Chosen term = \" + searchTerm);\n\t\t\tconsole.log(\"Chosen item name = \" + searchItem);\n\t\t\tconsole.log(\"offset = \" + offset);\n\t\t\t\n\t\t\t// Use background script to make API request\n\t\t\tif (typeof chrome !== \"undefined\" && chrome.runtime && chrome.runtime.sendMessage) {\n\t\t\t\tconsole.log(\"Sending message to background script...\");\n\t\t\t\tchrome.runtime.sendMessage({\n\t\t\t\t\taction: 'makeVaRequest',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tsystemNumber: systemNumber,\n\t\t\t\t\t\tsearchTerm: searchTerm || searchItem,\n\t\t\t\t\t\toffset: offset,\n\t\t\t\t\t\tlimit: limit,\n\t\t\t\t\t\twithImages: withImages,\n\t\t\t\t\t\twithDescription: withDescription,\n\t\t\t\t\t\tafter: after,\n\t\t\t\t\t\trandom: random,\n\t\t\t\t\t\thasImage: \"1\"\n\t\t\t\t\t}\n\t\t\t\t}, function(response) {\n\t\t\t\t\tconsole.log(\"Received response from background script:\", response);\n\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\tconsole.log(\"API request successful\");\n\t\t\t\t\t\tprocessResponse(response.data, expectResponse);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"API request failed:\", response ? response.error : \"No response\");\n\t\t\t\t\t\t// Retry with different search term\n\t\t\t\t\t\tchooseSearchTerm();\n\t\t\t\t\t\tmakeVaRequest(null, chosenSearchTerm);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Fallback for standalone testing (won't work due to CORS)\n\t\t\t\tconsole.log(\"Running as standalone page - API requests will fail due to CORS\");\n\t\t\t\tSITE.throwError();\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.log(\"maximum number of search attempts reached, try changing search terms\");\n\t\t\tSITE.throwError();\n\t\t}\n\t}\n\n\tfunction processResponse(data, expectResponse) {\n\t\tconsole.log(data);\n\t\tif (expectResponse === 0) {\n\t\t\tvar numRecords = data.records.length;\n\t\t\tif (numRecords > 0) {\n\t\t\t\tvar randomOffset = pumkin.randomNum(0, data.info.record_count - 1);\n\t\t\t\tconsole.log(\"total results = \" + data.info.record_count);\n\t\t\t\tconsole.log(\"randomOffset range: 0 to \" + (data.info.record_count - 1));\n\t\t\t\tconsole.log(\"generated randomOffset = \" + randomOffset);\n\t\t\t\tconsole.log(\"making query 2, with randomOffset of \" + randomOffset);\n\t\t\t\tmakeVaRequest(null, chosenSearchTerm, randomOffset);\n\t\t\t} else {\n\t\t\t\tconsole.log(\"making a second request, no results found last time\");\n\t\t\t\tchooseSearchTerm();\n\t\t\t\tmakeVaRequest(null, chosenSearchTerm);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (expectResponse === 1) {\n\t\t\tvar numRecords = data.records.length;\n\t\t\tconsole.log(\"There are \" + numRecords + \" objects available.\");\n\t\t\tvar whichObject = data.records[0];\n\t\t\tvar systemNumber = whichObject.systemNumber;\n\t\t\tconsole.log(\"Selected object system number: \" + systemNumber);\n\t\t\tmakeVaRequest(systemNumber);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Process individual object data\n\t\tif (!data.records || data.records.length === 0) {\n\t\t\tconsole.log(\"No object found for system number, trying a different search term\");\n\t\t\tchooseSearchTerm();\n\t\t\tmakeVaRequest(null, chosenSearchTerm);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tvar objectInfo = data.records[0];\n\t\tconsole.log(\"Processing object data:\", objectInfo);\n\t\t\n\t\tvar imageId = objectInfo._primaryImageId;\n\t\t\n\t\t// Check if object has a valid image - but allow objects without images to be displayed\n\t\t// Only try to find another object if we're in a search results context and have multiple objects\n\t\tif ((!imageId || imageId === null || imageId === \"\") && expectResponse !== 2 && data.records.length > 1) {\n\t\t\tconsole.log(\"Object has no image, trying next object in search results\");\n\t\t\t// Try the next object in the list\n\t\t\tobjectInfo = data.records[1];\n\t\t\timageId = objectInfo._primaryImageId;\n\t\t\t// If the next object also has no image, just proceed with it anyway\n\t\t\tconsole.log(\"Next object image ID:\", imageId);\n\t\t}\n\t\t\n\t\tvar theObject = objectInfo.objectType;\n\t\tvar theTitle = objectInfo._primaryTitle != \"\" ? objectInfo._primaryTitle : objectInfo.objectType;\n\t\tvar theDate = objectInfo._primaryDate;\n\t\tvar theSlug = objectInfo.systemNumber; // Use systemNumber as slug for URL\n\t\tvar theArtist = objectInfo._primaryMaker && objectInfo._primaryMaker.name ? objectInfo._primaryMaker.name : \"\";\n\t\tvar theSystemNumber = objectInfo.systemNumber;\n\t\tvar theMaterials = \"\"; // Not available in v2 API response\n\t\tvar theDescription = \"\"; // Not available in v2 API response\n\t\tvar theContext = \"\"; // Not available in v2 API response\n\t\t\n\t\tconsole.log(\"Extracted data - Title:\", theTitle, \"Artist:\", theArtist, \"System Number:\", theSystemNumber, \"Image ID:\", imageId);\n\t\t\n\t\t// Handle artist dates if available\n\t\tvar datesAlive = \"\";\n\t\tif (objectInfo._primaryMaker && objectInfo._primaryMaker.birthYear) {\n\t\t\tvar birthYear = objectInfo._primaryMaker.birthYear;\n\t\t\tvar deathYear = objectInfo._primaryMaker.deathYear;\n\t\t\tif (birthYear && deathYear) {\n\t\t\t\tdatesAlive = \"(\" + birthYear + \" - \" + deathYear + \")\";\n\t\t\t} else if (birthYear) {\n\t\t\t\tdatesAlive = \"(Born \" + birthYear + \")\";\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Use IIIF format for image URLs\n\t\tvar imgUrl = \"\";\n\t\tif (imageId && imageId !== null && imageId !== \"\") {\n\t\t\timgUrl = \"https://framemark.vam.ac.uk/collections/\" + imageId + \"/full/1000,/0/default.jpg\";\n\t\t}\n\t\tvar objectUrl = vaCollectionsUrl + theSystemNumber + \"/\" + theSlug;\n\t\tvar thePhysicalDescription = \"\"; // Not available in v2 API response\n\t\tvar theDimensions = \"\"; // Not available in v2 API response\n\t\tvar thePlace = objectInfo._primaryPlace;\n\t\tvar theMuseumNumber = objectInfo.accessionNumber;\n\t\tvar theMuseumLocation = objectInfo._currentLocation ? objectInfo._currentLocation.displayName : \"\";\n\t\t\n\t\ttheTitle = theTitle.replace(/\\^/, \"\");\n\t\ttheTitle = theTitle.replace(/\\<i\\>/g, \"\");\n\t\ttheTitle = theTitle.replace(/\\<\\\\i\\>/g, \"\");\n\t\ttheTitle = theTitle.replace(/\\<b\\>/g, \"\");\n\t\ttheTitle = theTitle.replace(/\\<\\\\b\\>/g, \"\");\n\t\t\n\t\tvar theSideCaption = \"<strong>\" + theTitle + \" \" + theDate + \"</strong>\" + \" &mdash; \" + theArtist + \" \" + datesAlive;\n\t\t\n\t\t// Create a meaningful description from available data\n\t\tvar descriptionParts = [];\n\t\tif (theTitle && theTitle !== theObject) {\n\t\t\tdescriptionParts.push(theTitle);\n\t\t}\n\t\tif (theDate) {\n\t\t\tdescriptionParts.push(\"Dated \" + theDate);\n\t\t}\n\t\tif (thePlace) {\n\t\t\tdescriptionParts.push(\"from \" + thePlace);\n\t\t}\n\t\tif (theArtist && theArtist !== \"Unknown\") {\n\t\t\tdescriptionParts.push(\"by \" + theArtist);\n\t\t}\n\t\t\n\t\tvar theDescription = descriptionParts.length > 0 ? descriptionParts.join(\", \") + \".\" : \"A \" + theObject + \" from the V&A collection.\";\n\t\t\n\t\t// Clean up description text\n\t\ttheDescription = theDescription.replace(/Object Type\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/People\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Place\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Places\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Time\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Design \\& Designing\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Design\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Subject Depicted\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Subjects Depicted\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Materials \\& Making\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Collectors \\& Owners\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Ownership \\& Use\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Trading\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Trade\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Historical Associations\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/Other\\n/g, \"\");\n\t\ttheDescription = theDescription.replace(/\\n\\n\\n/g, \"\\n\\n\");\n\t\ttheDescription = theDescription.replace(/\\n/g, \"<br>\");\n\t\ttheDescription = theDescription.replace(/\\<i\\>/g, \"\");\n\t\ttheDescription = theDescription.replace(/\\<\\\\i\\>/g, \"\");\n\t\ttheDescription = theDescription.replace(/\\<b\\>/g, \"\");\n\t\ttheDescription = theDescription.replace(/\\<\\\\b\\>/g, \"\");\n\t\t\n\t\tthePhysicalDescription = thePhysicalDescription.replace(/\\<i\\>/g, \"\");\n\t\tthePhysicalDescription = thePhysicalDescription.replace(/\\<\\\\i\\>/g, \"\");\n\t\tthePhysicalDescription = thePhysicalDescription.replace(/\\<b\\>/g, \"\");\n\t\tthePhysicalDescription = thePhysicalDescription.replace(/\\<\\\\b\\>/g, \"\");\n\t\t\n\t\ttheDate = typeof theDate !== \"undefined\" && theDate != null ? theDate : \"\";\n\t\t\n\t\tvar pinterestUrl = \"https://www.pinterest.com/pin/create/button/\";\n\t\tpinterestUrl += \"?url=\" + objectUrl;\n\t\tpinterestUrl += \"&media=\" + imgUrl;\n\t\tpinterestUrl += \"&description=\" + theTitle;\n\t\tif (theDate != \"\") pinterestUrl += \" (\" + thePlace + \", \" + theDate + \")\";\n\t\tpinterestUrl += \", V%26A Collection\";\n\t\t\n\t\tif (theTitle.length > 42) {\n\t\t\t$(\"#title\").addClass(\"reduced\");\n\t\t\t$(\"#piece-date\").addClass(\"reduced\");\n\t\t}\n\t\t\n\t\t$(\"#creator-name\").text(theArtist);\n\t\t$(\"#dates-alive\").text(datesAlive);\n\t\t$(\"#title\").html(theTitle);\n\t\tif (theDate != \"\") $(\"#piece-date\").text(\"(\" + theDate + \")\");\n\t\t$(\"#place\").html(thePlace);\n\t\t\n\t\t// Handle image display\n\t\tif (imgUrl && imgUrl !== \"\") {\n\t\t\t$(\"#image\").attr(\"src\", imgUrl);\n\t\t\t$(\"#pinterest-button\").attr(\"href\", pinterestUrl);\n\t\t} else {\n\t\t\t// No image available - show placeholder immediately\n\t\t\tvar $imageContainer = $('.object-image-wrapper');\n\t\t\t$imageContainer.html('<div class=\"image-placeholder\"><p>Image not available</p><p><small>This object may not have been photographed yet, or the image may be temporarily unavailable.</small></p></div>');\n\t\t}\n\t\t$(\"#page-link\").attr(\"href\", objectUrl);\n\t\t\n\t\tconsole.log(\"UI Updates - Setting title to:\", theTitle);\n\t\tconsole.log(\"UI Updates - Setting artist to:\", theArtist);\n\t\tconsole.log(\"UI Updates - Setting image to:\", imgUrl);\n\t\t\n\t\t// Add fallback logic for missing description\n\t\tvar descriptionContent = theDescription && theDescription.trim() !== \"\" ? theDescription : \"No description available for this object.\";\n\t\t$(\"#object-description\").html(\"<p>\" + descriptionContent + \"</p>\");\n\t\t\n\t\t$(\"#object-context\").html(\"<p>\" + theContext + \"</p>\");\n\t\t$(\"#object-side-caption\").html(theSideCaption);\n\t\t\n\t\tif (thePhysicalDescription != \"\") {\n\t\t\t$(\"#physical-description\").html(thePhysicalDescription);\n\t\t} else {\n\t\t\tconsole.log(\"hiding physical description\");\n\t\t\t$(\"#physical-description\").hide();\n\t\t\t$(\"#physical-description\").prev(\"h4\").hide();\n\t\t}\n\t\tif (theDate != \"\") {\n\t\t\t$(\"#tech-info-piece-date\").text(theDate);\n\t\t} else {\n\t\t\t$(\"#tech-info-piece-date\").hide();\n\t\t\t$(\"#tech-info-piece-date\").prev(\"h4\").hide();\n\t\t}\n\t\tif (theArtist != \"\") {\n\t\t\t$(\"#tech-info-creator-name\").text(theArtist);\n\t\t} else {\n\t\t\t$(\"#tech-info-creator-name\").hide();\n\t\t\t$(\"#tech-info-creator-name\").prev(\"h4\").hide();\n\t\t}\n\t\tif (theMaterials != \"\") {\n\t\t\t$(\"#tech-info-materials\").html(theMaterials);\n\t\t} else {\n\t\t\t$(\"#tech-info-materials\").hide();\n\t\t\t$(\"#tech-info-materials\").prev(\"h4\").hide();\n\t\t}\n\t\tif (thePlace != \"\") {\n\t\t\t$(\"#tech-info-place\").text(thePlace);\n\t\t} else {\n\t\t\t$(\"#tech-info-place\").hide();\n\t\t\t$(\"#tech-info-place\").prev(\"h4\").hide();\n\t\t}\n\t\tif (theDimensions != \"\") {\n\t\t\t$(\"#dimensions\").text(theDimensions);\n\t\t} else {\n\t\t\t$(\"#dimensions\").hide();\n\t\t\t$(\"#dimensions\").prev(\"h4\").hide();\n\t\t}\n\t\tif (theMuseumLocation != \"\") {\n\t\t\t$(\"#museum-location\").text(theMuseumLocation);\n\t\t} else {\n\t\t\t$(\"#museum-location\").hide();\n\t\t\t$(\"#museum-location\").prev(\"h4\").hide();\n\t\t}\n\t\tif (theMuseumNumber != \"\") {\n\t\t\t$(\"#museum-number\").text(theMuseumNumber);\n\t\t} else {\n\t\t\t$(\"#museum-number\").hide();\n\t\t\t$(\"#museum-number\").prev(\"h4\").hide();\n\t\t}\n\t\tSITE.onThrottledResize();\n\t\t$(\".content-placeholder, .hide-until-loaded\").addClass(\"loaded\");\n\t\t\n\t\t// Handle image loading with error fallback (only if we have an image)\n\t\tif (imgUrl && imgUrl !== \"\") {\n\t\t\t$(\"img.image-hide-until-loaded\").on('load', function() {\n\t\t\t\t$(\".image-hide-until-loaded, .hide-after-loaded\").addClass(\"loaded\");\n\t\t\t\t$(this).removeClass(\"image-error\");\n\t\t\t}).on('error', function() {\n\t\t\t\tconsole.log(\"Image failed to load:\", imgUrl);\n\t\t\t\t// Replace broken image with placeholder message\n\t\t\t\tvar $imageContainer = $(this).closest('.object-image-wrapper');\n\t\t\t\t$imageContainer.html('<div class=\"image-placeholder\"><p>Image not available</p><p><small>This object may not have been photographed yet, or the image may be temporarily unavailable.</small></p></div>');\n\t\t\t\t$(\".image-hide-until-loaded, .hide-after-loaded\").addClass(\"loaded\");\n\t\t\t});\n\t\t} else {\n\t\t\t// No image to load, so mark as loaded immediately\n\t\t\t$(\".image-hide-until-loaded, .hide-after-loaded\").addClass(\"loaded\");\n\t\t}\n\n\t\t// Save object to history and persist\n\t\tif (expectResponse !== 0 && expectResponse !== 1) {\n\t\t\tvar historyObject = {\n\t\t\t\tobjectNumber: theSystemNumber,\n\t\t\t\tvaCollectionsUrl: objectUrl,\n\t\t\t\timageUrl: imgUrl,\n\t\t\t\ttitle: theTitle,\n\t\t\t\tdate: theDate,\n\t\t\t\tartist: theArtist,\n\t\t\t\tsystemNumber: theSystemNumber\n\t\t\t};\n\t\t\tvar history = window.theHistory || [];\n\t\t\thistory.push(historyObject);\n\t\t\tif (history.length > (window.maxHistoryItems || 10)) {\n\t\t\t\thistory.shift();\n\t\t\t}\n\t\t\twindow.theHistory = history; // Update global reference\n\t\t\tif (typeof chrome !== 'undefined' && typeof chrome.storage !== 'undefined') {\n\t\t\t\tchrome.storage.local.set({objectHistory: history}, function() {\n\t\t\t\t\tconsole.log('History saved to storage:', history.length, 'items');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t// EXPORT\n\tSITE.start = start;\n\tSITE.makeVaRequest = makeVaRequest;\n\tSITE.processResponse = processResponse;\n\n})( this, this.jQuery, this.Modernizr ); ",";(function ( window, $) {\n\tvar pumkin = window.pumkin = window.pumkin || {};\n\tvar SITE = window.SITE = window.SITE || {};\n\n\t// ON DOC READY\n\t$(function () {\n\t\t\n\t\tconsole.log(\"=== DOCUMENT READY HANDLER EXECUTED ===\");\n\t\t\n\t\tSITE.initGlobal();\n\n\t\tSITE.initMain();\n\n\t\t// Start the V&A API functionality\n\t\tSITE.start();\n\n\t});\n\n})( this, this.jQuery );","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_modules__[\"./assets/scripts/0_helpers.js\"]();\n__webpack_modules__[\"./assets/scripts/1_global.js\"]();\n__webpack_modules__[\"./assets/scripts/2_main.js\"]();\n__webpack_modules__[\"./assets/scripts/3_va_api.js\"]();\nvar __webpack_exports__ = {};\n__webpack_modules__[\"./assets/scripts/x_docReady.js\"]();\n",""],"names":["pumkin","window","$","Modernizr","getTransformValues","$element","type","transformMatrix","css","transformValues","match","scale","translate","x","y","checkKey","e","event","keyCode","makePlaceholders","els","activeClass","each","$el","placeholder","data","val","trim","removeClass","focus","addClass","blur","svgFallback","origSrc","attr","pngSrc","replace","normalizeBoxHeights","$els","max","Math","height","randomNum","min","floor","random","autoFit","$container","$items","margin","doHeightToo","includeLastRow","varyHeight","allSameWidth","console","log","length","containerWidth","width","removeAttr","allTheRows","rowWidth","thisRow","$this","parseInt","push","Array","is","numRows","r","itemsInRow","rowTotalWidth","i","remainderWidth","spaceToAdd","avgItemWidth","newRowTotalWidth","theWidth","itemWidth","itemRatio","newWidth","newHeight","itemHeight","difference","intelliLoad","$imgs","src","revealOnLoad","imagesLoaded","$img","done","instance","image","defineDeviceVariables","deviceVariables","isMobile","isTablet","isTouch","touch","isDevice","browserDetection","browser","isChrome","navigator","userAgent","indexOf","isExplorer","isFirefox","isSafari","isOpera","jQuery","SITE","initGlobal","gv","$window","$document","document","$html","$body","WIDTH","HEIGHT","$wrapper","screenfull","FastClick","theHistory","maxHistoryItems","defineVars","$textContent","$objectCaption","$downArrow","$objectHeader","$sidePanel","$sidePanelOpenBtn","$sidePanelCloseBtn","$historyOpenBtn","$overlayCloseBtn","$overlay","$techInfo","initMain","chrome","storage","local","get","result","objectHistory","initFastclick","handleClicks","onResize","onThrottledResize","onDebouncedResize","on","throttledResize","debouncedResize","onThrottledScroll","throttledScroll","click","hasClass","velocity","duration","offset","easing","container","showHistory","fadeIn","fadeOut","runtime","openOptionsPage","open","getURL","throwError","getHistory","hideHistory","text","count","history","html","forEach","historyObjectHTML","objectNumber","vaCollectionsUrl","imageUrl","title","date","artist","append","parent","remove","scrollAmt","scrollTop","throttle","debounce","attach","body","vaUrl","vaMediaUrl","defaultSearchTerms","theSearchTerms","chosenSearchTerm","strictSearch","searchCount","maxSearchCounts","chooseSearchTerm","start","sendMessage","action","response","sync","userSearchTerms","items","split","searchTermsDisplay","join","makeVaRequest","systemNumber","searchTerm","limit","withImages","withDescription","after","quality","expectResponse","searchItem","params","hasImage","success","processResponse","error","numRecords","records","randomOffset","info","record_count","whichObject","objectInfo","imageId","_primaryImageId","theObject","objectType","theTitle","_primaryTitle","theDate","_primaryDate","theSlug","theArtist","_primaryMaker","name","theSystemNumber","theMaterials","theDescription","theContext","datesAlive","birthYear","deathYear","imgUrl","objectUrl","thePhysicalDescription","theDimensions","thePlace","_primaryPlace","theMuseumNumber","accessionNumber","theMuseumLocation","_currentLocation","displayName","theSideCaption","descriptionParts","pinterestUrl","$imageContainer","descriptionContent","hide","prev","closest","historyObject","shift","set"],"sourceRoot":""}